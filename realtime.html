<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<title>REALTIME POWER MONITOR</title>
<style>
body{background:#020617;color:#e5e7eb;font-family:Arial}
table{width:100%;border-collapse:collapse}
td{padding:10px;border-bottom:1px solid #1e293b}
</style>
</head>
<body>

<h2>ðŸ“Š REALTIME POWER DATA</h2>

<table>
<tr><td>Voltage</td><td id="v"></td></tr>
<tr><td>Current I1</td><td id="i1"></td></tr>
<tr><td>Current I2</td><td id="i2"></td></tr>
<tr><td>Current I3</td><td id="i3"></td></tr>
<tr><td>Power Active</td><td id="p"></td></tr>
<tr><td>Power Reactive</td><td id="q"></td></tr>
<tr><td>Power Apparent</td><td id="s"></td></tr>
<tr><td>Power Factor</td><td id="pf"></td></tr>
<tr><td>Frequency</td><td id="hz"></td></tr>
</table>

<script>
const URL="https://YOUR_PROJECT_ID.supabase.co/rest/v1/meter_data?select=*&order=timestamp.desc&limit=1";
const KEY="YOUR_ANON_KEY";

async function update(){
  const r=await fetch(URL,{headers:{apikey:KEY,Authorization:"Bearer "+KEY}});
  const d=(await r.json())[0];
  if(!d)return;

  v.innerText=d.v;
  i1.innerText=d.i1;
  i2.innerText=d.i2;
  i3.innerText=d.i3;
  p.innerText=d.p;
  q.innerText=d.q;
  s.innerText=d.s;
  pf.innerText=d.pf;
  hz.innerText=d.hz;
}
update();
setInterval(update,1500);
</script>

</body>
</html>
