<div style="margin-top: 30px;">
    <p>Status: <span id="authStatus">Memuat...</span></p>
    <button onclick="signOut()" style="padding: 10px; background-color: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">
        Logout
    </button>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="auth_script.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const authInfo = await checkUserRole();
        const statusElement = document.getElementById('authStatus');
        
        if (authInfo.isLoggedIn) {
            statusElement.innerHTML = `Login sebagai: <b>${authInfo.profile.full_name || 'User'}</b> (${authInfo.role.toUpperCase()})`;
            statusElement.style.color = 'green';
        }
        
        // Pengecekan, jika tidak login, sudah diarahkan oleh checkUserRole() ke login.html
    });

    function goToPage(page) {
        // Navigasi ke halaman detail
        window.location.href = page; 
    }
</script>
